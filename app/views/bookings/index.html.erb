<h1>Bookings</h1><br />

  <h3>My upcoming bookings</h3>
  <div class="card-group">
    <div class="row">
      <% @bookings.each do |booking| %>
        <div class="col-lg-4 col-md-6 mb-4 pb-22">
          <div class="card blog blog-primary rounded border-0 shadow overflow-hidden">
            <div class="position-relative">
              <%= image_tag booking.nap_space.image_url, class: "card-img-top", height: 300 %>
              <div class="overlay rounded-top"></div>
              <div class="card-body content">
                <h3 class="card-title title text-dark">  <%= booking.nap_space.description %></h3>
                <div class="post-meta d-flex justify-content-between mt-3">
                  <ul class="list-unstyled mb-0">
                    <li class="list-inline-item me-2 mb-0">
                      <p class="text-muted readmore"> <%= booking.nap_space.address %></p>
                    </li>
                    <li class=" text-muted mb-2"><%= "Start Time: #{booking.start_time_formatted}" %></li>
                    <li class=" text-muted mb-2"><%= "Duration: #{booking.duration_mins.to_i} minutes" %></li>
                    <li class=" text-muted mb-2"><%= "Cost: $#{booking.total_cost}" %></li>
                    <li class=" text-muted mb-2"><%= booking.confirmation_status %></li>
                    <% unless booking.confirmation_status == 'cancelled' %>
                        <%= link_to "Cancel", booking_cancel_path(booking), class: "btn btn-danger  mt-2" %>
                    <% end %>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>

  <hr>

  <h3>Bookings to approve</h3>
  <div class="card-group">
    <div class="row">
      <% @bookings_to_approve.each do |booking| %>
        <div class="col-lg-4 col-md-6 mb-4 pb-22">
          <div class="card blog blog-primary rounded border-0 shadow overflow-hidden">
            <div class="position-relative">
              <%= image_tag booking.nap_space.image_url, class: "card-img-top", height: 300 %>
              <div class="overlay rounded-top"></div>
              <div class="card-body content">
                <h3 class="card-title title text-dark">  <%= booking.nap_space.description %></h3>
                <div class="post-meta d-flex justify-content-between mt-3">
                  <ul class="list-unstyled mb-0">
                    <li class="list-inline-item me-2 mb-0">
                      <p class="text-muted readmore"> <%= booking.nap_space.address %></p>
                    </li>
                    <li class=" text-muted mb-2"><%= "Start Time: #{booking.start_time_formatted}" %></li>
                    <li class=" text-muted mb-2"><%= "Duration: #{booking.duration_mins.to_i} minutes" %></li>
                    <li class=" text-muted mb-2"><%= "Cost: $#{booking.total_cost}" %></li>
                    <li class=" text-muted mb-2"><%= booking.confirmation_status %></li>
                    <% if (booking.confirmation_status == 'requested' && !booking.started?)  %>
                      <%= link_to "Confirm", booking_confirm_path(booking), class: "btn btn-primary mt-2" %>
                      <%= link_to "Decline", booking_decline_path(booking), class: "btn btn-warning  mt-2" %>
                    <% end %>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>

  <hr>

  <h3>Your past bookings</h3>
  <div class="card-group">
    <div class="row">
      <% @bookings_past.each do |booking| %>
        <div class="col-lg-4 col-md-6 mb-4 pb-22">
          <div class="card blog blog-primary rounded border-0 shadow overflow-hidden">
            <div class="position-relative">
              <%= image_tag booking.nap_space.image_url, class: "card-img-top", height: 300 %>
              <div class="overlay rounded-top"></div>
              <div class="card-body content">
                <h3 class="card-title title text-dark">  <%= booking.nap_space.description %></h3>
                <div class="post-meta d-flex justify-content-between mt-3">
                  <ul class="list-unstyled mb-0">
                    <li class="list-inline-item me-2 mb-0">
                      <p class="text-muted readmore"> <%= booking.nap_space.address %></p>
                    </li>
                    <li class=" text-muted mb-2"><%= "Start Time: #{booking.start_time_formatted}" %></li>
                    <li class=" text-muted mb-2"><%= "Duration: #{booking.duration_mins.to_i} minutes" %></li>
                    <li class=" text-muted mb-2"><%= "Cost: $#{booking.total_cost}" %></li>
                    <li class=" text-muted mb-2"><%= booking.confirmation_status %></li>
                    <% unless booking.review %>
                      <%= link_to "Leave a review", new_booking_review_path(booking), class: "btn btn-primary  mt-2"  %>
                    <% else %>
                      <p>Thank you for your review!</p>
                    <% end %>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
